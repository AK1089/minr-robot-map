# ENTITY | right-click foreman in quarry
@cooldown 400
@using akrobots
@fast

# reset the foreman's offers
@bypass /data modify entity d9f7a863-f230-410b-89fe-c3b7ee1c3355 Offers set value {Recipes:[]}

@define dialogue::Tree npc = dialogue::Tree(player)
@var npc.add_prefix("&cForeman&7:")
@var npc.add_prefix("&e{{player}}&7:")

# introductory dialogue
@var npc.add_output(0, "$1 Hey there! Thanks for dropping on by.", 1)
@var npc.add_output(1, "$1 Your boss has told me a lot about what this little guy is capable of, and I'm excited to see it in action.", 2)
@var npc.add_output(2, "$1 I've set up a few stations around the site. Can you go around and get Claude to complete each task?", 3)
@var npc.add_output(3, "$1 Just come back and say hello when you're done with each one.", 4)
@var npc.add_output(4, "$1 You'll want to go through the entrance behind you and to the right. Just get the robot to walk from the start to the end as marked.", -1)

# start dialogue
@for Int i in list::range(0, levelComplete.length())
    @if !levelComplete[i]

        # set the first "level complete" flag to indicate that the player has spoken to the foreman/s 
        @var levelComplete[0] = true
        @var npc.display(10 * i)
        @return
    @fi
@done
